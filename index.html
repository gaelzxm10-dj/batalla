<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Pelea Matem√°tica - Estilo Fuego</title>
<style>
body{
    font-family:Arial, sans-serif;
    text-align:center;
    background:#140000;
    color:white;
}
h1{color:#ff4d4d; text-shadow:0 0 10px red, 0 0 20px yellow;}

#game{
    width:80%;
    margin:auto;
    padding:20px;
    border-radius:10px;
    background:#1a0000;
    box-shadow:0 0 20px red, 0 0 40px #660000 inset;
}

.health-bar{
    height:22px;
    width:250px;
    background:#4d0000;
    border-radius:5px;
    border:1px solid #ff0000;
}

.green{
    height:22px;
    background:linear-gradient(to right, #ff0000, #ff8800);
    border-radius:5px;
    transition:width .3s;
}

#log{
    margin-top:20px;
    height:110px;
    overflow-y:auto;
    padding:10px;
    background:#000;
    border:1px solid #660000;
    border-radius:5px;
    box-shadow:0 0 10px red inset;
}

.enemy,.player{
    width:150px;
    height:150px;
    display:inline-block;
    border-radius:10px;
    margin:10px;
    box-shadow:0 0 20px red;
}
.player{
    background:url('https://i.imgur.com/8t5dvfu.png'); /* GUERRERO */
    background-size:cover;
}
.enemy{
    background:url('https://i.imgur.com/T8G1VZm.png'); /* DEMONIO */
    background-size:cover;
    animation:shake 1s infinite alternate;
}

@keyframes shake {
    from { transform: translateX(-3px) rotate(-1deg); }
    to { transform: translateX(3px) rotate(1deg); }
}

button{
    padding:10px 20px;
    font-size:16px;
    border:none;
    border-radius:5px;
    cursor:pointer;
    background:#ff1a1a;
    color:white;
    font-weight:bold;
    text-shadow:0 0 5px yellow;
    box-shadow:0 0 10px red;
}
button:hover{ background:#ff6600; }

input{
    padding:8px; 
    font-size:20px; 
    text-align:center; 
    width:80px;
    border:2px solid red;
    border-radius:5px;
    background:black;
    color:white;
}
</style>
</head>
<body>

<h1>üî•‚öîÔ∏è Pelea Matem√°tica üî•</h1>
<div id="game">
    <div>
        <div class="player"></div>
        <div class="enemy"></div>
    </div>

    <h3 id="question"></h3>
    <input type="text" id="answer" placeholder="¬øRespuesta?">
    <button onclick="checkAnswer()">üí• Atacar</button>

    <div style="margin-top:15px;">
        <p>üíô Tu Vida</p>
        <div class="health-bar"><div id="playerHP" class="green" style="width:250px"></div></div>
        <p>üíÄ Vida Enemigo</p>
        <div class="health-bar"><div id="enemyHP" class="green" style="width:250px"></div></div>
    </div>

    <div id="log"></div>
</div>

<script>
let playerLife=250, enemyLife=250, level=1, a,b,result;

function newQuestion(){
    // operaciones m√°s dif√≠ciles conforme sube el nivel
    a=Math.floor(Math.random()*10*level)+1;
    b=Math.floor(Math.random()*10*level)+1;
    
    let op = ["+","-","x"][Math.floor(Math.random()*3)];
    if(op === "x"){ result=a*b; }
    if(op === "+"){ result=a+b; }
    if(op === "-"){ result=a-b; }
    
    document.getElementById("question").innerText=`${a} ${op} ${b} = ?`;
}

function checkAnswer(){
    let ans=parseInt(document.getElementById("answer").value);
    
    if(ans===result){
        enemyLife-=25;
        log("üî• ¬°Ataque cr√≠tico!");
    } else {
        playerLife-=20;
        log("üí• Fallaste. El enemigo contraataca.");
    }
    updateBars();
    document.getElementById("answer").value="";
    
    if(enemyLife<=0){
        level++; enemyLife=250;
        log("üéâ ¬°Subiste de nivel! Cada vez m√°s dif√≠cil...");
    }
    if(playerLife<=0){
        alert("‚ò†Ô∏è Te derrotaron. Recarga la p√°gina para intentarlo de nuevo.");
        location.reload();
    }
    newQuestion();
}

function updateBars(){
    document.getElementById("playerHP").style.width=playerLife+"px";
    document.getElementById("enemyHP").style.width=enemyLife+"px";
}

function log(msg){
    let box=document.getElementById("log");
    box.innerHTML+=msg+"<br>";
    box.scrollTop=box.scrollHeight;
}
newQuestion();
</script>

</body>
</html>
